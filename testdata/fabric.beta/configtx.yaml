---
Organizations:
- &Org3MSP
  Name: Org3
  ID: Org3MSP
  MSPDir: /Users/adc/golang/src/github.com/hyperledger-labs/fabric-smart-client/testdata/fabric.beta/crypto/peerOrganizations/org3.example.com/msp
  Policies:
    Readers:
      Type: Signature
      Rule: OR('Org3MSP.member')
    Writers:
      Type: Signature
      Rule: OR('Org3MSP.member')
    Endorsement:
      Type: Signature
      Rule: OR('Org3MSP.member')
    Admins:
      Type: Signature
      Rule: OR('Org3MSP.admin')
  AnchorPeers:
  - Host: 127.0.0.1
    Port: 20026
- &Org4MSP
  Name: Org4
  ID: Org4MSP
  MSPDir: /Users/adc/golang/src/github.com/hyperledger-labs/fabric-smart-client/testdata/fabric.beta/crypto/peerOrganizations/org4.example.com/msp
  Policies:
    Readers:
      Type: Signature
      Rule: OR('Org4MSP.member')
    Writers:
      Type: Signature
      Rule: OR('Org4MSP.member')
    Endorsement:
      Type: Signature
      Rule: OR('Org4MSP.member')
    Admins:
      Type: Signature
      Rule: OR('Org4MSP.admin')
  AnchorPeers:
  - Host: 127.0.0.1
    Port: 20033
- &OrdererMSP
  Name: OrdererOrg
  ID: OrdererMSP
  MSPDir: /Users/adc/golang/src/github.com/hyperledger-labs/fabric-smart-client/testdata/fabric.beta/crypto/ordererOrganizations/example.com/msp
  Policies:
    Readers:
      Type: Signature
      Rule: OR('OrdererMSP.member')
    Writers:
      Type: Signature
      Rule: OR('OrdererMSP.member')
    Admins:
      Type: Signature
      Rule: OR('OrdererMSP.admin')
  OrdererEndpoints:
  - 127.0.0.1:20022


Channel: &ChannelDefaults
  Capabilities:
    V2_0: true
  Policies: &DefaultPolicies
    Readers:
      Type: ImplicitMeta
      Rule: ANY Readers
    Writers:
      Type: ImplicitMeta
      Rule: ANY Writers
    Admins:
      Type: ImplicitMeta
      Rule: MAJORITY Admins

Profiles:
  OrgsOrdererGenesis:
    <<: *ChannelDefaults
    Orderer:
      OrdererType: solo
      Addresses:
      - 127.0.0.1:20022
      BatchTimeout: 1s
      BatchSize:
        MaxMessageCount: 1
        AbsoluteMaxBytes: 98 MB
        PreferredMaxBytes: 512 KB
      Capabilities:
        V2_0: true
      Organizations:
      - *OrdererMSP
      Policies:
        Readers:
          Type: ImplicitMeta
          Rule: ANY Readers
        Writers:
          Type: ImplicitMeta
          Rule: ANY Writers
        Admins:
          Type: ImplicitMeta
          Rule: MAJORITY Admins
        BlockValidation:
          Type: ImplicitMeta
          Rule: ANY Writers
    Consortiums:
      SampleConsortium:
        Organizations:
        - *Org3MSP
        - *Org4MSP
  OrgsChannel:
    <<: *ChannelDefaults
    Consortium: SampleConsortium
    Application:
      Capabilities:
        V2_0: true
      Organizations:
      - *Org3MSP
      - *Org4MSP
      Policies: 
        Readers:
          Type: ImplicitMeta
          Rule: ANY Readers 
        Writers:
          Type: ImplicitMeta
          Rule: ANY Writers 
        Admins:
          Type: ImplicitMeta
          Rule: ANY Admins 
        LifecycleEndorsement:
          Type: Signature
          Rule: AND ('Org3MSP.member') 
        Endorsement:
          Type: ImplicitMeta
          Rule: ANY Endorsement

